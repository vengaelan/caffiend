<%# ------- UPCOMING MEETINGS ------- %>

<%# ------- SIMPLE CALENDER ------- %>
<div class="container py-5 my-4">
  <div class="row justify-content-center">
    <div class="calendar-container col-12">
      <%= month_calendar(events: @upcoming_meetings, end_attribute: :end_datetime) do |date, upcoming_meetings| %>
        <%= date %>

        <% upcoming_meetings.each do |upcoming_meeting| %>
          <%# Add pending class to meeting to differentiate in calendar  %>
          <div class="<%= upcoming_meeting.status == 'ACCEPTED' ? "meeting m-1" : "meeting pending m-1" %>" data-controller="tooltip" data-tooltip-target="meeting">
            <p class="m-0 p-0"><%= link_to "#{upcoming_meeting.location}", meeting_path(upcoming_meeting), class: "text-decoration-none" %></p>
            <small><%= upcoming_meeting.start_datetime.strftime("%H:%M") %></small>
            <%# Content for tooltip to be added below, default display: none %>
            <div data-tooltip-target="info">
              <p>CAFFIEND SESSION</p>
              <p> <i class="fas fa-map-marker-alt"></i> <%= upcoming_meeting.location %> </p>
              <p>
                <i class="fas fa-user-friends"></i>
                <% if upcoming_meeting.invitee_email.size >= 1%>
                  <ul>
                    <% upcoming_meeting.invitee_email.each do |email| %>
                      <li> <%= email %></li>
                    <% end %>
                  </ul>
                <% else %>
                  <%= upcoming_meeting.invitee_email.first %>
                <% end %>

              </p>
              <a href="<%= upcoming_meeting.meeting_link %>"><i class="fas fa-link"></i>Google Meet Link</a>
              <div class="copy-text input-group mb-3">
                 <input type="text" class="form-control text" value="<%= request.base_url + send_invite_meeting_path(upcoming_meeting) %>" readonly >
                  <div class="input-group-append">
                    <button class="btn btn-dark fa fa-clone" type="button" ></button>
                  </div>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
